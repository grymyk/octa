(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{363:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o,a,r=n(357),i=n(390),s=n(358),l=(n(369),o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){e[e.standard=0]="standard",e[e.dark=1]="dark",e[e.gold=2]="gold",e[e.green=3]="green",e[e.red=4]="red"}(a||(a={}));var c={backgroundColor:"rgba(0, 0, 0, 0.75)",zIndex:1008,top:0,display:"flex",alignItems:"center",justifyContent:"center",position:"fixed"},p={alignItems:"flex-start"},u={backgroundColor:"rgb(255, 255, 255)",display:"fixed",position:"relative",top:"unset",left:"unset",right:"unset",bottom:"unset",border:"unset",borderRadius:"unset",width:"100%",color:"#3C3C3C",overflow:"visible",padding:"20px 40px"},d={maxWidth:"600px",margin:"0 auto",padding:"0"},h={maxHeight:"90vh",overflow:"auto",maxWidth:"85vw"},m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.render=function(){var e=this,t=Object.assign({},u),n=c,o=Object.assign({},h),s=Object.assign({},d);this.props.isContentVerticalTop&&(n=Object.assign({},n,p)),this.props.isPositionStatic&&(n=Object.assign({},n,{position:"static"})),this.props.dontGoFullWidth&&(t=Object.assign({},t,{width:"auto"})),this.props.hasNoPadding&&(t=Object.assign({},t,{padding:"0"})),this.props.noWidthLimitation&&(o=Object.assign({},o,{maxWidth:"auto"}),s=Object.assign({},s,{maxWidth:"auto"})),this.props.theme==a.dark?t=Object.assign({},t,{backgroundColor:"rgb(51, 51,51)"}):this.props.theme==a.gold?t=Object.assign({},t,{backgroundColor:"rgb(254, 203, 47)"}):this.props.theme==a.green?t=Object.assign({},t,{backgroundColor:"rgb(57, 121, 38)"}):this.props.theme==a.red&&(t=Object.assign({},t,{backgroundColor:"rgb(195, 41, 28)"})),this.props.contentTopOffset&&(t=Object.assign({},t,{top:this.props.contentTopOffset})),this.props.initialOverlayTop&&(n.top=this.props.initialOverlayTop,o.maxHeight="calc("+h.maxHeight+" - "+this.props.initialOverlayTop+")");var l={"dark-theme":this.props.theme==a.dark,"gold-theme":this.props.theme==a.gold,"green-theme":this.props.theme==a.green,"red-theme":this.props.theme==a.red};return this.props.parentElement&&this.props.parentElement!=document.body?r.createElement("div",{className:"ReactModal__Overlay",style:n},r.createElement("div",{style:t},this.generateModalContent(l,s,o))):r.createElement(i,{isOpen:this.props.isOpen,appElement:document.body,style:{overlay:n,content:t},parentSelector:function(){return document.body},onRequestClose:function(){null!=e.props.onClose&&(e.props.onClose instanceof Function?e.props.onClose():console.error&&console.error("onClose is not a function",e.props.onClose,e.props.mainContainerClassName))}},this.generateModalContent(l,s,o))},t.prototype.generateModalContent=function(e,t,n){var o=this;return r.createElement(r.Fragment,null,r.createElement("div",{className:s("modal-header",e,this.props.additionalModalHeaderClass)},r.createElement("div",{className:"modal-back-button-container"},this.props.hasBackButton?r.createElement("div",{className:"modal-header-button",onTouchStart:function(e){return o.props.onBack&&o.props.onBack()},onClick:function(e){return o.props.onBack&&o.props.onBack()}},r.createElement("i",{className:"fa fw fa-chevron-left"})):r.createElement("i",{className:"fa fw fa-chevron-left",style:{opacity:0}})),r.createElement("div",{className:"modal-title-container"},this.props.title&&r.createElement("h3",{dangerouslySetInnerHTML:{__html:this.props.title}}),this.props.subtitle&&r.createElement("span",{style:this.props.subtitleStyle},this.props.subtitle)),r.createElement("div",{onTouchStart:function(e){return o.props.onClose&&o.props.onClose()},onClick:function(e){return o.props.onClose&&o.props.onClose()},className:s("modal-close-button-container",{"no-padding":this.props.hasNoPadding})},r.createElement("div",{className:"modal-header-button"},r.createElement("i",{className:"fa fw fa-times"})))),r.createElement("div",{className:s(this.props.mainContainerClassName,e),style:t},r.createElement("div",{style:n,className:"modal-content-container"},this.props.children,r.createElement("div",null,this.props.actionMessageHTML&&r.createElement("span",{className:s("tokens-button action-button",this.props.actionButtonAdditionalClass),onClick:this.props.onActionClicked,dangerouslySetInnerHTML:{__html:this.props.actionMessageHTML}}),this.props.secondayActionMessageHTML&&r.createElement("span",{className:s("tokens-button action-button",this.props.secondaryActionButtonAdditionalClass),onClick:this.props.onSecondaryActionClicked,dangerouslySetInnerHTML:{__html:this.props.secondayActionMessageHTML}})),this.props.cancelationMessageHTML&&r.createElement("span",{className:"tokens-button cancel-button",onClick:this.props.onCancelationClicked,dangerouslySetInnerHTML:{__html:this.props.cancelationMessageHTML}}))))},t}(r.Component);t.b=m},365:function(e,t,n){"use strict";var o=function(){function e(){this.isTouch="ontouchstart"in window||navigator.maxTouchPoints>0;try{this.supportsCssClipPath=window&&window.CSS&&window.CSS.supports&&window.CSS.supports("clip-path","polygon(50% 0%, 0% 100%, 100% 100%)")}catch(e){this.supportsCssClipPath=!1}}return e.prototype.isRunningInLivebook=function(){return-1!==document.location.hostname.indexOf("livebook")||-1!==document.title.toLowerCase().indexOf("livebook")},e.prototype.isRunningInLivevideo=function(){return-1!==document.location.hostname.indexOf("livevideo")||-1!==document.title.toLowerCase().indexOf("livevideo")},e.prototype.isRunningInMarketplace=function(){return!this.isRunningInLivebook()&&!this.isRunningInLivevideo()},e.prototype.isMobileWidth=function(){return window.innerWidth<500},e}();t.a=new o},368:function(e,t,n){"use strict";var o=function(){function e(){this.numberedBookItemIndexRegExp=/^(?:(?:(?:(?:Chapter)|(?:Part)|(?:Lesson)|(?:Section)|(?:Unit)) ))?((?:\d+\.?)+)/,this.appendixIndexRegExp=/^(Appendix )?[A-Z]\.(\d+\.?)*/,this.isOnDevice=!1}return e.prototype.cleanBookTitle=function(e){return e?(e||"").trim().replace(/,?\s+(second|third|fourth|fifth|sixth|seventh|eight|nineth)\s+edition/i,""):e},e.prototype.adaptLinkFormat=function(e){return e=e||"",this.isOnDevice?e.indexOf("#!")>=0?e:e.indexOf("/book")>=0?e.replace("/book","/#!/book"):e:e.replace("#!","").replace("//book","/book")},e.prototype.getShortTitle=function(e){if(!e)return e;var t=(e=e.replace(/,?\s+second\s+edition/i,", 2nd ed.").replace(/,?\s+third\s+edition/i,", 3rd ed.").replace(/,?\s+fourth\s+edition/i,", 4th ed.").replace(/,?\s+fifth\s+edition/i,", 5th ed.").replace(/,?\s+sixth\s+edition/i,", 6th ed.").replace(/,?\s+seventh\s+edition/i,", 7th ed.").replace(/,?\s+eight\s+edition/i,", 8th ed.").replace(/,?\s+nineth\s+edition/i,", 9th ed.")).indexOf(":");return-1==t?e:e.substring(0,t)},e.prototype.getElementLink=function(e){if(!e)return e;var t=(e=this.adaptLinkFormat(e)).match("(chapter-[0-9]+)|(part-[0-9]+)|(appendix(-[a-z])?)");return null==t||0==t.length?e:e.substring(0,t.index+t[0].length)},e.prototype.getSectionLink=function(e,t){if(!e)return e;e=this.adaptLinkFormat(e);var n=this.getElementLink(e);if(n==e)return e;var o=this.extractBookElementIndex(t).trim()||"";return""==o?e:(o.endsWith(".")&&(o=o.substring(0,o.length-1)),n+"/section-"+o.replace(/\./g,"-"))},e.prototype.extractBookElementIndex=function(e){var t=new RegExp(this.appendixIndexRegExp).exec(e),n=new RegExp(this.numberedBookItemIndexRegExp).exec(e);return t?(t[0]||"").replace("Appendix ",""):n&&n.length>1?n[1]:""},e.prototype.splitIntoShortNameAndContent=function(e){var t=new RegExp(this.appendixIndexRegExp).exec(e),n=new RegExp(this.numberedBookItemIndexRegExp).exec(e);if(t)return{shortName:o=(t[0]||"").replace("Appendix ",""),content:a=e.replace("Appendix","").replace(o,"")};if(n&&n.length>1){var o=n[1],a=e.replace("Chapter","").replace("Lesson","").replace(o,"");return-1!=e.indexOf("Chapter")&&(o="Chapter "+o),{shortName:o,content:a}}return null},e.prototype.extractSegmentedBookElementIndex=function(e){var t=this.extractBookElementIndex(e);return t?t.split(".").filter((function(e){return e.trim()})):[]},e.prototype.compareBookItemIndexes=function(e,t){for(var n=this.extractSegmentedBookElementIndex(e),o=this.extractSegmentedBookElementIndex(t),a=Math.max(n.length,o.length),r=0;r<a;r++){var i=n[r],s=o[r];if(!i)return-1;if(!s)return 1;var l=parseInt(i),c=parseInt(s);if(Number.isNaN(l)&&!Number.isNaN(c))return 1;if(!Number.isNaN(l)&&Number.isNaN(c))return-1;if(Number.isNaN(l)&&Number.isNaN(c)){if(i===s)continue;return i<s?-1:1}if(l!==c)return l<c?-1:1}return 0},e.prototype.getLastIndex=function(e){var t=this.extractBookElementIndex(e);if(!t)return t;var n=t.match(/(\d+)\.?$/);return null==n?"":n[1]||n[0]},e.prototype.cleanBookElementTitle=function(e,t){if(void 0===t&&(t=!0),!e)return e;var n=this.extractBookElementIndex(e);return e=e.trim().replace(/^(Chapter|Part|Section|Appendix|Unit|Module)/,""),t&&(e=e.replace(n,"").trim()),(e=e.replace(/^\.\s*/,"")).trim()},e.prototype.adjustCoverPath=function(e,t,n){return e?(-1!=e.indexOf("images")&&-1!=e.indexOf("manning.com")&&(-1!=e.indexOf("manning.com/book/")?e=e.replace("manning.com/book/","manning.com/"+t+"/"+n+"/resize/book/"):-1!=e.indexOf("manning.com/video/")&&(e=e.replace("manning.com/video/","manning.com/"+t+"/"+n+"/resize/video/"))),e):e},e}();t.a=new o},369:function(e,t,n){var o=n(370);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(98)(o,a);o.locals&&(e.exports=o.locals)},370:function(e,t,n){(e.exports=n(97)(!1)).push([e.i,".ReactModal__Overlay{animation:fade-in-black-background 0.1s ease-in-out;font-family:'Lato';position:relative;text-align:left}.ReactModal__Overlay .dark-theme .modal-title-container{color:#fecb2f}.ReactModal__Overlay .dark-theme p{color:white}.ReactModal__Overlay .green-theme{color:white}.ReactModal__Overlay .green-theme .modal-header-button{color:white}.ReactModal__Overlay .green-theme h3,.ReactModal__Overlay .green-theme em,.ReactModal__Overlay .green-theme p{color:white}.ReactModal__Overlay .red-theme{color:white}.ReactModal__Overlay .red-theme .modal-header-button{color:white}.ReactModal__Overlay .red-theme h3,.ReactModal__Overlay .red-theme em,.ReactModal__Overlay .red-theme p{color:white}.ReactModal__Overlay .gold-theme .modal-header-button{color:#c69501}.ReactModal__Overlay .gold-theme h3{font-weight:bold}.ReactModal__Overlay .gold-theme .modal-content-container{margin-top:-1em;overscroll-behavior:none;-ms-scroll-chaining:none}.ReactModal__Overlay .modal-header{display:flex;align-items:center;justify-content:space-between;font-weight:300;line-height:1}.ReactModal__Overlay .modal-header-button{font-size:1em;cursor:pointer;user-select:none;color:#9a9a9a}.ReactModal__Overlay .modal-back-button-container{position:absolute;top:35px;left:20px}.ReactModal__Overlay .modal-close-button-container{position:absolute;top:35px;right:20px;z-index:10;padding:1em;margin:-1em;cursor:pointer}.ReactModal__Overlay .modal-close-button-container.no-padding{top:25px}@media screen and (max-width: 450px){.ReactModal__Overlay .modal-close-button-container.no-padding{top:15px}}.ReactModal__Overlay .modal-title-container{max-width:600px;margin:0 auto}.ReactModal__Overlay h3{font-size:2em;font-weight:300;display:inline-block;margin:0 0.5em 20px 0;color:inherit}.ReactModal__Overlay .modal-title-container{flex:1 auto}.ReactModal__Overlay .cancel-button{float:right}.ReactModal__Overlay .tokens-button{background-color:gray}.ReactModal__Overlay .tokens-button:hover:not(.disabled){background-color:#9a9a9a}.ReactModal__Overlay .tokens-button:active:not(.disabled){background-color:#8d8d8d}.ReactModal__Overlay .tokens-button.action-button{color:white;background-color:#3C67A2}.ReactModal__Overlay .tokens-button.action-button:hover:not(.disabled){background-color:#5280bf}.ReactModal__Overlay .tokens-button.action-button:active:not(.disabled){background-color:#4373b5}@keyframes fade-in-black-background{0%{background-color:rgba(0,0,0,0)}100%{background-color:rgba(0,0,0,0.75)}}\n",""])},411:function(e,t,n){"use strict";var o,a=n(357),r=(n(553),o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement("div",{className:"loading-results-container"},a.createElement("i",{className:"loading-icon fa fa-circle-notch fa-circle-o-notch fa-spin fa-3x fa-fw"}))},t}(a.Component);t.a=i},440:function(e,t,n){var o=n(938);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(98)(o,a);o.locals&&(e.exports=o.locals)},552:function(e,t,n){"use strict";var o,a=n(357),r=n(358),i=n(363),s=(n(440),n(939),o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e){function t(t){return e.call(this,t)||this}return s(t,e),t.prototype.render=function(){return a.createElement(i.b,{mainContainerClassName:r("token-notifier-container",this.props.mainContainerClassName),isOpen:this.props.isShown,onClose:this.props.onClose,title:this.props.title,subtitle:this.props.subtitle,subtitleStyle:{display:"block",fontStyle:"italic"},theme:void 0===this.props.theme?i.a.dark:this.props.theme,isContentVerticalTop:!0,initialOverlayTop:this.props.topOffset,isPositionStatic:this.props.isPositionStatic,parentElement:this.props.parentElement},this.props.children,this.props.confirmationMessageHTML&&a.createElement("span",{className:r("tokens-button emphasized-tokens-button",this.props.confirmationButtonAdditionalClass),onClick:this.props.onConfirmationClicked,dangerouslySetInnerHTML:{__html:this.props.confirmationMessageHTML}}),this.props.cancelationMessageHTML&&a.createElement("span",{className:"tokens-button cancel-button",onClick:this.props.onCancelationClicked,dangerouslySetInnerHTML:{__html:this.props.cancelationMessageHTML}}))},t}(a.Component);t.a=l},553:function(e,t,n){var o=n(554);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(98)(o,a);o.locals&&(e.exports=o.locals)},554:function(e,t,n){(e.exports=n(97)(!1)).push([e.i,".loading-results-container{min-height:100%;width:100%;text-align:center;display:flex;justify-content:center;align-items:center}.loading-results-container .loading-icon{font-size:60px}\n",""])},662:function(e,t,n){"use strict";var o,a=n(357),r=n(552),i=(n(941),n(440),o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){return a.createElement(r.a,{mainContainerClassName:"token-modal out-of-tokens-modal",title:"Out of tokens",isShown:this.props.isShown,onClose:this.props.onClose,topOffset:this.props.topOffset},a.createElement("p",null,"You do not have enough ",this.props.isMeap?a.createElement("strong",null,"free"):""," tokens to unlock this content.",this.props.isMeap&&" Unlocking in MEAPs is limited to free tokens because future MEAP versions are subject to change. ",this.props.isMeap&&" To view more, purchase the entire "+this.props.productType+".",!this.props.isMeap&&" To view more, either get more tokens or purchase the entire "+this.props.productType+"."),a.createElement("div",{className:"out-of-tokens-modal-command-container"},this.props.showBuyTokensButton&&a.createElement("span",{className:"tokens-button emphasized-tokens-button",onClick:this.props.onRequestBuyTokens},"buy tokens"),this.props.showCartButton&&(this.props.isProductAlreadyInCart?a.createElement("span",{className:"tokens-button view-in-cart-token-button",onClick:this.props.onRequestCart},"view ",a.createElement("em",null,this.props.productTitle)," in cart"):a.createElement("span",{className:"tokens-button add-to-cart-token-button",onClick:this.props.onRequestCart},this.props.isBuyMessage?"buy ":"add ",a.createElement("em",null,this.props.productTitle),this.props.isBuyMessage?"":" to cart "))))},t}(a.Component);t.a=s},663:function(e,t,n){"use strict";var o,a=n(357),r=n(358),i=n(363),s=(n(440),n(955),n(127)),l=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(e){function t(t){return e.call(this,t)||this}return l(t,e),t.prototype.render=function(){return this.props.spentTokenAmount<=0||this.props.spentDollarAmount<=0?null:a.createElement(i.b,{mainContainerClassName:r("token-upsell-container"),isOpen:this.props.isShown,onClose:this.props.onClose,title:"",subtitle:"",theme:i.a.gold,isContentVerticalTop:!1,initialOverlayTop:this.props.topOffset},a.createElement("span",{className:"upsell-logical-line-item"},"Because you've spent ",a.createElement("svg",{viewBox:"0 0 10.583333 10.583334",dangerouslySetInnerHTML:{__html:'<use xlink:href="#token-icon">'}})," ",a.createElement("strong",null,s.a.numberWithCommas(this.props.spentTokenAmount))," on ",a.createElement("em",null,this.props.productTitle),","),a.createElement("span",{className:"upsell-logical-line-item"},"you can ",a.createElement("a",{href:"javascript:void(0)",onClick:this.props.onBuy},"buy")," it anytime for ",a.createElement("strong",null,"$",s.a.formatMoney(this.props.spentDollarAmount))," off the list price."))},t}(a.Component);t.a=c},772:function(e,t,n){"use strict";var o,a=n(357),r=n(127),i=n(363),s=n(411),l=n(358),c=n(376),p=(n(943),n(365)),u=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=function(e){function t(t){return e.call(this,t)||this}return u(t,e),t.prototype.render=function(){var e=this,t=this.props.purchasedTokens,n=this.props.compedTokens,o=t+n,i=t>0;return a.createElement("div",null,this.props.isProcessing&&a.createElement("div",{style:{height:200}},a.createElement(s.a,null)),!this.props.isProcessing&&a.createElement("div",{className:"token-stack-main-container"},a.createElement("div",{className:"token-stack-info-container"},a.createElement("div",{className:"token-stack-info-row"},a.createElement("span",{className:"token-stack-info-row-qualifier-label"},"free"),a.createElement("span",{className:"token-stack-info-row-token-container"},a.createElement("svg",{"data-tip":"you have "+n+" free tokens","data-place":"top","data-effect":"solid","data-delay-show":"150",viewBox:"0 0 10.583333 10.583334",dangerouslySetInnerHTML:{__html:'<use xlink:href="#token-icon">'}})),a.createElement("span",{className:"token-stack-info-row-token-count"},r.a.numberWithCommas(n))),a.createElement("div",{className:"token-stack-info-row"},a.createElement("span",{className:"token-stack-info-row-qualifier-label"},"purchased"),a.createElement("span",{className:"token-stack-info-row-token-container"},a.createElement("svg",{"data-tip":"you have "+t+" purchased tokens","data-place":"top","data-effect":"solid","data-delay-show":"150",viewBox:"0 0 10.583333 10.583334",dangerouslySetInnerHTML:{__html:'<use xlink:href="#token-icon">'}})),a.createElement("span",{className:"token-stack-info-row-token-count"},r.a.numberWithCommas(t))),a.createElement("div",{className:"token-stack-info-row"},a.createElement("span",{className:"token-stack-info-row-qualifier-label"},"total"),a.createElement("span",{className:"token-stack-info-row-token-container"},a.createElement("svg",{"data-tip":"you have "+o+" tokens","data-place":"bottom","data-effect":"solid","data-delay-show":"150",viewBox:"0 0 10.583333 10.583334",dangerouslySetInnerHTML:{__html:'<use xlink:href="#token-icon">'}})),a.createElement("span",{className:"token-stack-info-row-token-count"},r.a.numberWithCommas(o)))),a.createElement("div",{className:"token-stack-buttons-container"},a.createElement("div",{className:"tokens-button",onClick:this.props.onShowTokenLedger},"token ledger"),a.createElement("div",{title:i?"":"You don't have any tokens eligible for cashout",className:l("tokens-button",{disabled:!i}),onClick:function(t){return i&&e.props.onCashout&&e.props.onCashout()}},"cash out"),a.createElement("div",{className:"tokens-button emphasized-tokens-button",onClick:this.props.onGetMoreTokens},"get more tokens"))),!p.a.isTouch&&a.createElement(c,null))},t}(a.Component),h=(n(945),n(440),n(134)),m=n(368),f=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),k=function(e){function t(t){return e.call(this,t)||this}return f(t,e),t.prototype.render=function(){var e=this.props.items||[];e.sort((function(e,t){return t.date.getTime()-e.date.getTime()})),this.prioritizeFreeRedemptionsInListOrder(e);var t,n=0;for(t=e.length-1;t>=0;t--)n+=e[t].quantity,e[t].balance=n;return a.createElement("div",null,this.generateContent(e,n))},t.prototype.generateContent=function(e,t){var n=this;return this.props.isProcessing?a.createElement(s.a,null):0==e.length?a.createElement(a.Fragment,null,a.createElement("p",null,"We don't have any information on your transactions."),a.createElement("span",{className:"tokens-button emphasized-tokens-button",onClick:this.props.onGetMoreTokens},"get more tokens")):a.createElement("div",{className:"token-ledger-table-container"},a.createElement("table",{cellSpacing:0},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"date"),a.createElement("th",{colSpan:2},"description"),a.createElement("th",null,"acquired"),a.createElement("th",null,"redeemed"),a.createElement("th",null,"balance"))),a.createElement("tbody",null,e.map((function(e,t){var o=e.quantity<0?"<em>"+e.description+"</em>":e.description;if(e.link){var i=n.extractLinkDescription(e.link,e.notes),s="";s=h.a.isLivebookLink(e.link)?m.a.adaptLinkFormat(h.a.getAbsoluteLink(n.props.livebookBaseLink,e.link)):h.a.isLivevideoLink(e.link)?h.a.getAbsoluteLink(n.props.livevideoBaseLink,e.link):e.link,i?o+=", <a href='"+s+"'>"+i+"</a>":o="<a href='"+s+"'>"+o+"</a>"}return a.createElement("tr",{key:t},a.createElement("td",null,e.date.toLocaleDateString("en-US")),a.createElement("td",{colSpan:2,dangerouslySetInnerHTML:{__html:o}}),a.createElement("td",null,e.quantity>0?r.a.numberWithCommas(e.quantity):" "),a.createElement("td",null,e.isFreeTokensRedemption&&a.createElement("span",{title:"you have used free tokens to access this content",className:"free-flag"}," free "),e.isFreeTokensRedemption&&a.createElement("span",null," "),e.quantity<0?r.a.numberWithCommas(-e.quantity):" "),a.createElement("td",null," ",r.a.numberWithCommas(e.balance)," "))}))),a.createElement("tfoot",null,a.createElement("tr",null,a.createElement("td",{colSpan:4},a.createElement("span",{className:"tokens-button emphasized-tokens-button",onClick:this.props.onGetMoreTokens},"get more tokens"),a.createElement("span",{title:this.props.isCashoutDisabled?"You don't own tokens eligible for cashout":"",className:l("tokens-button",{disabled:this.props.isCashoutDisabled}),onClick:function(e){return!n.props.isCashoutDisabled&&n.props.onCashout&&n.props.onCashout()}},"cash out")),a.createElement("td",{colSpan:2},a.createElement("span",{className:"total-balance-container"},"balance ",a.createElement("svg",{viewBox:"0 0 10.583333 10.583334",dangerouslySetInnerHTML:{__html:'<use xlink:href="#token-icon">'}})," ",a.createElement("span",{className:"balance-label"},r.a.numberWithCommas(t))))))))},t.prototype.extractLinkDescription=function(e,t){return e?h.a.isLivebookLink(e)?this.extractLivebookLinkDescription(e,t):h.a.isLivevideoLink(e)?this.extractLivevideoLinkDescription(e,t):void 0:""},t.prototype.extractLivebookLinkDescription=function(e,t){if(!e)return"";var n="",o=e.match(/(chapter-[0-9]+)|(appendix(-[a-z])?)|(part-[0-9]+)/i);o&&o[0]&&(n+=o[0].replace("-"," "));var a=e.match(/section(-[0-9|A-Z]+)+/i);if(a&&a[0])n+=", "+a[0].replace("section-","section ").replace(/\-/g,".");else{var r=e.substring(e.lastIndexOf("/")+1,e.length);Number.isNaN(parseInt(r))||(n=n+", paragraph #"+r)}return n},t.prototype.extractLivevideoLinkDescription=function(e,t){var n=this.extractLivevideoLinkDescriptionFromNotes(t),o=e.indexOf("?t=");if(o>0){var a=parseFloat(e.substring(o+"?t=".length));!Number.isNaN(a)&&a>=0&&(n+=", @"+Math.floor(a)+"s")}return n},t.prototype.extractLivevideoLinkDescriptionFromLink=function(e){var t=e.match(/([0-9]+)_([0-9]+)_([0-9]+)/i);if(!t||t.length<3)return"";var n="";return t[2]&&(n+="Unit "+t[2]),t[3]&&(n+=", Module "+t[3]),n},t.prototype.extractLivevideoLinkDescriptionFromNotes=function(e){if(!e)return"";var t="",n=e.match(/\|U([0-9]+)/i);null!=n&&(t+="unit "+n[1]);var o=e.match(/\|M([0-9]+)/i);null!=o&&o[1]&&(t+=", module "+o[1]);var a=e.match(/\|P([0-9]+)/i);return null!=a&&a[1]&&(t+=", paragraph #"+a[1]),t},t.prototype.prioritizeFreeRedemptionsInListOrder=function(e){var t,n=e.length;for(t=0;t<n-1;t++)if(e[t].isFreeTokensRedemption&&!e[t+1].isFreeTokensRedemption&&Math.abs(e[t].date.getTime()-e[t+1].date.getTime())<=1e3&&e[t].description===e[t+1].description&&e[t].notes===e[t+1].notes){var o=e[t];e[t]=e[t+1],e[t+1]=o;var a=e[t].balance;e[t].balance=e[t+1].balance,e[t+1].balance=a,console.log("Switched "+t+" and "+(t+1))}},t}(a.Component),g=(n(947),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),b=function(e){function t(t){return e.call(this,t)||this}return g(t,e),t.prototype.render=function(){return null==this.props.paymentTypes||0==this.props.paymentTypes.length?a.createElement(a.Fragment,null,a.createElement("p",null,"Unfortunatey, we don't have enough information to perform the cashout. Please contact our support at support@manning.com."),a.createElement("div",{className:"cashout-commands-container"},a.createElement("span",{className:"tokens-button",onClick:this.props.onClose},"close"))):this.props.isCashoutComplete?a.createElement(a.Fragment,null,a.createElement("div",{className:"cashout-subtitle big-cashout-subtitle"},a.createElement("svg",{viewBox:"0 0 10.583333 10.583334",dangerouslySetInnerHTML:{__html:'<use xlink:href="#token-icon">'}}),a.createElement("span",{className:"token-amount"},r.a.numberWithCommas(this.props.tokenCount)),"have been cashed out for",a.createElement("span",{className:"dollar-amount"},"$",r.a.formatMoney(this.props.tokenCount*this.props.tokenPrice))),a.createElement("div",{className:"cashout-explanation-done"},"the cash will be available in your account in a few days")):a.createElement("div",null,a.createElement("div",{className:"cashout-subtitle"},"you have",a.createElement("svg",{viewBox:"0 0 10.583333 10.583334",dangerouslySetInnerHTML:{__html:'<use xlink:href="#token-icon">'}}),a.createElement("span",{className:"token-amount"},r.a.numberWithCommas(this.props.tokenCount)),"eligible to be cashed out for",a.createElement("span",{className:"dollar-amount"},"$",r.a.formatMoney(this.props.tokenCount*this.props.tokenPrice))),a.createElement("div",{className:"cashout-explanation"},"the cash will be returned to",this.generatePaymentInfo()),a.createElement("div",{className:"cashout-commands-container"},a.createElement("span",{className:"tokens-button emphasized-tokens-button",onClick:this.props.onCashout},"cash out"),a.createElement("span",{className:"tokens-button",onClick:this.props.onClose},"cancel")))},t.prototype.generatePaymentInfo=function(){var e=this.props.paymentTypes;return 1==e.length?a.createElement(a.Fragment,null," your ",a.createElement("span",{className:"payment-info-container"},e[0].brand," (",e[0].qualifier,")")):2==e.length?a.createElement(a.Fragment,null," your ",a.createElement("span",{className:"payment-info-container"},e[0].brand,"  (",e[0].qualifier,")")," and  ",a.createElement("span",{className:"payment-info-container"},e[1].brand,"  (",e[1].qualifier,")")):a.createElement("ul",null,e.map((function(e){return a.createElement("li",{className:"payment-info-container"},e.brand," (",e.qualifier,")")})))},t}(a.Component),v=(n(949),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),y=function(e){function t(t){var n=e.call(this,t)||this;n.handleChange=n.handleChange.bind(n),n.handlePressStartOnDown=n.handlePressStartOnDown.bind(n),n.handlePressStartOnUp=n.handlePressStartOnUp.bind(n),n.handlePressEnd=n.handlePressEnd.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n);var o=n.getValueErrorMessage(n.props.initialValue||0);return n.state={value:n.props.initialValue||0,isValid:!o,errorMessage:o},n}return v(t,e),t.prototype.componentWillReceiveProps=function(e){e.initialValue!=this.state.value&&this.updateValueIfPossible(e.initialValue,!1)},t.prototype.render=function(){return a.createElement("div",{className:"number-input-container"},this.props.iconContainerHTML&&a.createElement("span",{className:"icon-container",dangerouslySetInnerHTML:{__html:this.props.iconContainerHTML}}),a.createElement("input",{type:"number","data-tip":this.state.errorMessage,"data-place":"bottom","data-effect":"solid","data-for":"number-input-tooltip",className:l({invalid:!this.state.isValid}),min:this.props.min,max:this.props.max,value:this.props.acceptsCurrency?parseFloat(""+(Number.isNaN(this.state.value)?0:this.state.value||0)).toFixed(2):this.state.value,step:this.props.step,onKeyDown:this.handleKeyDown,onChange:this.handleChange}),a.createElement("div",{className:"arrows-container"},a.createElement("div",{className:"arrow-up-container arrow-container",onMouseDown:this.handlePressStartOnUp,onTouchStart:this.handlePressStartOnUp},a.createElement("i",{className:"fa fa-caret-up"})),a.createElement("div",{className:"arrow-down-container arrow-container",onMouseDown:this.handlePressStartOnDown,onTouchStart:this.handlePressStartOnDown},a.createElement("i",{className:"fa fa-caret-down"}))),!p.a.isTouch&&a.createElement(c,{id:"number-input-tooltip"}))},t.prototype.componentDidMount=function(){document.addEventListener("mouseup",this.handlePressEnd),document.addEventListener("touchend",this.handlePressEnd)},t.prototype.componentWillUnmount=function(){document.removeEventListener("mouseup",this.handlePressEnd),document.removeEventListener("touchend",this.handlePressEnd)},t.prototype.handleChange=function(e){this.updateValueIfPossible(e.target.value)},t.prototype.getValueErrorMessage=function(e){if(""===e)return"value cannot be empty";if(this.props.acceptOnlyPositiveIntegers){var t=parseInt(""+e);if(Number.isNaN(t)||!Number.isInteger(t)||t<=0)return"value has to be a positive integer"}var n=parseFloat(""+e);return Number.isNaN(n)||n<this.props.min||n>this.props.max?"value has to be a greater than "+this.props.min+" and smaller than "+this.props.max:""},t.prototype.handleKeyDown=function(e){38==e.keyCode?this.increment(!1):40==e.keyCode&&this.decrement(!1)},t.prototype.handlePressEnd=function(){clearInterval(this.upIntervalId),clearInterval(this.downIntervalId)},t.prototype.handlePressStartOnDown=function(){this.state.value-this.props.step>=this.props.min&&this.decrement(!0)},t.prototype.handlePressStartOnUp=function(){this.state.value+this.props.step<=this.props.max&&this.increment(!0)},t.prototype.increment=function(e){var t=this;if(void 0===e&&(e=!0),this.updateValueIfPossible(parseFloat(""+(this.state.value||0))+Math.abs(this.props.step||1)),clearInterval(this.upIntervalId),clearInterval(this.downIntervalId),e){var n=Math.abs(this.props.step||1),o=n;this.upIntervalId=setInterval((function(){var e=parseFloat(""+(t.state.value||0))+o;e>t.props.max&&(e=t.props.max),t.updateValueIfPossible(e),o+=n}),200)}},t.prototype.decrement=function(e){var t=this;if(void 0===e&&(e=!0),this.updateValueIfPossible(this.state.value-Math.abs(this.props.step||1)),clearInterval(this.upIntervalId),clearInterval(this.downIntervalId),e){var n=Math.abs(this.props.step||1),o=n;this.downIntervalId=setInterval((function(){var e=t.state.value-o;e<t.props.min&&(e=t.props.min),t.updateValueIfPossible(e),o+=n}),200)}},t.prototype.updateValueIfPossible=function(e,t){void 0===t&&(t=!0),this.props.acceptsCurrency&&""!=e&&(e=parseFloat(e).toFixed(2)),(Number.isNaN(e)||"NaN"==e)&&(e=0);var n=this.getValueErrorMessage(e);e!=this.state.value&&t&&this.props.onValueChange&&this.props.onValueChange(e),this.setState({value:e,isValid:!n,errorMessage:n})},t.prototype.formatCurrency=function(e){try{return r.a.roundToTwoDecimalPlaces(parseFloat(e))}catch(t){return e}},t}(a.Component),w=(n(951),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),x=function(e){function t(t){var n=e.call(this,t)||this;return n.handleTokenValueChange=n.handleTokenValueChange.bind(n),n.handleDollarValueChange=n.handleDollarValueChange.bind(n),n.handleAddToCart=n.handleAddToCart.bind(n),n.state={currentNumberOfTokens:5/n.props.tokenPrice},n.MAX_NUMBER_OF_DOLLARS=50,n.MIN_NUMBER_OF_TOKENS=1/n.props.tokenPrice,n.MAX_NUMBER_OF_TOKENS=n.MAX_NUMBER_OF_DOLLARS/n.props.tokenPrice,n}return w(t,e),t.prototype.render=function(){return this.props.isProcessing?a.createElement(s.a,null):a.createElement(a.Fragment,null,a.createElement("div",{className:"token-purchaser-commands-container"},a.createElement("div",{className:"token-number-input-container"},a.createElement(y,{min:this.MIN_NUMBER_OF_TOKENS,max:this.MAX_NUMBER_OF_TOKENS,step:10,initialValue:this.state.currentNumberOfTokens,acceptOnlyPositiveIntegers:!0,iconContainerHTML:'<svg viewBox="0 0 10.583333 10.583334"><use xlink:href="#token-icon"></svg>',onValueChange:this.handleTokenValueChange})),a.createElement("div",{className:"token-purchaser-commands-label"},"for"),a.createElement("div",{className:"token-dollar-input-container"},a.createElement(y,{min:1,max:this.MAX_NUMBER_OF_DOLLARS,step:1,initialValue:this.state.currentNumberOfTokens*this.props.tokenPrice,acceptsCurrency:!0,iconContainerHTML:"$",onValueChange:this.handleDollarValueChange})),a.createElement("div",null,a.createElement("span",{className:l("tokens-button","emphasized-tokens-button"),onClick:this.handleAddToCart},"add to cart"))))},t.prototype.handleTokenValueChange=function(e){this.setState({currentNumberOfTokens:e})},t.prototype.handleDollarValueChange=function(e){this.setState({currentNumberOfTokens:""!==e?e/this.props.tokenPrice:void 0})},t.prototype.handleAddToCart=function(e){this.isTokenNumberValid()&&this.props.onAddTokensToCart&&this.props.onAddTokensToCart(this.state.currentNumberOfTokens)},t.prototype.isTokenNumberValid=function(){return this.state.currentNumberOfTokens>=this.MIN_NUMBER_OF_TOKENS&&this.state.currentNumberOfTokens<=this.MAX_NUMBER_OF_TOKENS},t}(a.Component);n(953);n.d(t,"a",(function(){return C}));var C,_=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();!function(e){e[e.showingTokenInfo=0]="showingTokenInfo",e[e.cashout=1]="cashout",e[e.cashoutComplete=2]="cashoutComplete",e[e.error=3]="error",e[e.processing=4]="processing",e[e.purchasing=5]="purchasing",e[e.ledger=6]="ledger"}(C||(C={}));var E=function(e){function t(t){var n=e.call(this,t)||this;return n.isComponentMounted=!1,n.state={steps:[],cashoutPaymentTypes:[],tokenLedgerItems:[],tokenStatusInfo:{availableCompedTokenCount:0,availablePurchasedTokenCount:0},errorMessage:""},n}return _(t,e),t.prototype.render=function(){var e=this;return a.createElement(i.b,{mainContainerClassName:"token-modal "+this.getCurrentStateClass(),isOpen:this.props.isShown,hasBackButton:this.hasBackArrow(),onClose:function(){e.setState({steps:[C.showingTokenInfo],cashoutPaymentTypes:[],tokenLedgerItems:[],tokenStatusInfo:e.state.tokenStatusInfo,errorMessage:""}),e.props.onClose&&e.props.onClose()},onBack:function(){return e.handleBackClick()},title:this.getModalTitle(),subtitle:this.getModalSubtitle(),theme:this.getCurrentStateFullScreenTheme(),isContentVerticalTop:!0,initialOverlayTop:this.props.topOffset},this.generateCurrentComponent())},t.prototype.componentDidMount=function(){this.isComponentMounted=!0,this.props.initialStep&&this.props.initialStep!=C.showingTokenInfo?this.moveForwardToStep(this.props.initialStep,!0,!0):this.moveForwardToStep(C.showingTokenInfo)},t.prototype.componentWillUnmount=function(){this.isComponentMounted=!1},t.prototype.componentWillReceiveProps=function(e){!this.props.isShown&&e.isShown&&(this.props.initialStep&&!this.hasConsumedInitialState?(this.moveForwardToStep(this.props.initialStep,!0,!0),this.hasConsumedInitialState=!0):this.moveForwardToStep(C.showingTokenInfo,!0))},t.prototype.hasBackArrow=function(){if(this.state.steps.length<=1)return!1;var e=this.getCurrentStep();return e!=C.processing&&e!=C.cashoutComplete&&e!=C.error&&this.state.steps.filter((function(e){return e!==C.processing})).length>1},t.prototype.generateCurrentComponent=function(){var e=this;switch(this.getCurrentStep()){case C.showingTokenInfo:return a.createElement(d,{purchasedTokens:this.state.tokenStatusInfo.availablePurchasedTokenCount,compedTokens:this.state.tokenStatusInfo.availableCompedTokenCount,onShowTokenLedger:function(){return e.moveForwardToStep(C.ledger)},onCashout:function(){return e.moveForwardToStep(C.cashout)},onGetMoreTokens:function(){return e.moveForwardToStep(C.purchasing)}});case C.ledger:return a.createElement(k,{isProcessing:!1,livebookBaseLink:this.props.livebookBaseLink,livevideoBaseLink:this.props.livevideoBaseLink,onCashout:function(){return e.moveForwardToStep(C.cashout)},onGetMoreTokens:function(){return e.moveForwardToStep(C.purchasing)},isCashoutDisabled:this.state.tokenStatusInfo.availablePurchasedTokenCount<=0,items:this.state.tokenLedgerItems});case C.cashout:case C.cashoutComplete:return a.createElement(b,{tokenCount:this.state.tokenStatusInfo.availablePurchasedTokenCount,tokenPrice:this.props.tokenPrice,paymentTypes:this.state.cashoutPaymentTypes,isCashoutComplete:this.getCurrentStep()==C.cashoutComplete,onCashout:function(){return e.moveForwardToStep(C.cashoutComplete)},onClose:this.props.onClose});case C.purchasing:return a.createElement(x,{tokenPrice:this.props.tokenPrice,onAddTokensToCart:this.props.onAddTokensToCart});case C.error:return a.createElement("p",{className:"error-container"},this.state.errorMessage);case C.processing:default:return a.createElement(s.a,null)}},t.prototype.moveForwardToStep=function(e,t,n){var o=this;void 0===t&&(t=!1);var a=t?[]:this.state.steps.concat([]);if(n&&a.push(C.showingTokenInfo),e==C.ledger)a.push(C.processing),this.props.getTokenLedgerItems().then((function(t){o.isComponentMounted&&o.setState(r.a.combineInNew(o.state,{tokenLedgerItems:t,steps:a.concat([e])}))})).catch((function(e){o.isComponentMounted&&o.setState(r.a.combineInNew(o.state,{tokenLedgerItems:[],steps:a.concat([C.error]),errorMessage:e}))}));else if(e==C.cashout){a.push(C.processing),Promise.all([this.props.getTokenState(),this.props.getCashoutPaymentTypes()]).then((function(t){var n=t[0],i=t[1];o.isComponentMounted&&o.setState(r.a.combineInNew(o.state,{tokenStatusInfo:n,cashoutPaymentTypes:i,steps:a.concat([e])}))})).catch((function(e){o.isComponentMounted&&o.setState(r.a.combineInNew(o.state,{tokenStatusInfo:{availableCompedTokens:0,availablePurchasedTokens:0},cashoutPaymentTypes:[],steps:a.concat([C.error]),errorMessage:e}))}))}else e==C.cashoutComplete?(a.push(C.processing),this.props.onCashout().then((function(t){o.isComponentMounted&&o.setState(r.a.combineInNew(o.state,{steps:a.concat([e])}))})).catch((function(e){o.isComponentMounted&&o.setState(r.a.combineInNew(o.state,{steps:a.concat([C.error]),errorMessage:e}))}))):e==C.showingTokenInfo?(a.push(C.processing),this.props.getTokenState().then((function(t){o.isComponentMounted&&o.setState(r.a.combineInNew(o.state,{tokenStatusInfo:t,steps:a.concat([e])}))})).catch((function(e){o.isComponentMounted&&o.setState(r.a.combineInNew(o.state,{tokenStatusInfo:{availableCompedTokens:0,availablePurchasedTokens:0},steps:a.concat([C.error]),errorMessage:e}))}))):a.push(e);this.setState(r.a.combineInNew(this.state,{steps:a}))},t.prototype.getCurrentStateClass=function(){switch(this.getCurrentStep()){case C.showingTokenInfo:return"token-stack-info-modal";case C.ledger:return"token-ledger-modal";case C.cashout:case C.cashoutComplete:return"token-cashout-modal";case C.purchasing:return"token-purchaser-modal";case C.error:case C.processing:return""}},t.prototype.getModalTitle=function(){switch(this.getCurrentStep()){case C.showingTokenInfo:return"";case C.cashout:return"cashout";case C.cashoutComplete:return"cashout complete";case C.error:return"error";case C.processing:return"";case C.purchasing:return"get more tokens";case C.ledger:return"token ledger"}},t.prototype.getModalSubtitle=function(){switch(this.getCurrentStep()){case C.showingTokenInfo:return" ";case C.cashout:case C.cashoutComplete:case C.error:case C.processing:return"";case C.purchasing:return"you can cash them out anytime";case C.ledger:return""}},t.prototype.getCurrentStateFullScreenTheme=function(){switch(this.getCurrentStep()){case C.showingTokenInfo:case C.cashout:case C.cashoutComplete:case C.error:case C.processing:case C.purchasing:return i.a.dark;case C.ledger:default:return i.a.standard}},t.prototype.getCurrentStep=function(){return this.state.steps[this.state.steps.length-1]},t.prototype.handleBackClick=function(){this.setState(r.a.combineInNew(this.state,{steps:this.removeLastAndAllConnectedTempSteps()}))},t.prototype.removeLastAndAllConnectedTempSteps=function(){for(var e=this.state.steps.slice(0,Math.max(0,this.state.steps.length-1)),t=e.length-1;t>=0&&(e[t]==C.processing||e[t]==C.error||e[t]==C.cashoutComplete);t--)e.pop();return e},t}(a.Component);t.b=E},938:function(e,t,n){(e.exports=n(97)(!1)).push([e.i,".token-modal .loading-results-container{min-height:150px}.token-modal p{margin-top:0}.token-modal .error-container{color:red}.tokens-button{display:inline-block;text-align:center;color:#3c3c3c;background-color:white;padding:0.25em 1.5em;user-select:none;cursor:pointer;font-weight:400}.tokens-button:hover:not(.disabled){background-color:#9a9a9a}.tokens-button:active:not(.disabled){background-color:#8d8d8d}.tokens-button.disabled{background-color:dimgray;cursor:default}.tokens-button.emphasized-tokens-button{color:inherit;background-color:#fecb2f}.tokens-button.emphasized-tokens-button:hover:not(.disabled){background-color:#fed862;color:#997a00}.tokens-button.emphasized-tokens-button:active:not(.disabled){background-color:#fed148}.tokens-button.add-to-cart-token-button{color:white;background-color:#3C67A2}.tokens-button.add-to-cart-token-button:hover:not(.disabled){background-color:#5280bf}.tokens-button.add-to-cart-token-button:active:not(.disabled){background-color:#4373b5}.tokens-button.view-in-cart-token-button{color:white;background-color:#67a73d}.tokens-button.view-in-cart-token-button:hover:not(.disabled){background-color:#80c156}.tokens-button.view-in-cart-token-button:active:not(.disabled){background-color:#73ba44}\n",""])},939:function(e,t,n){var o=n(940);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(98)(o,a);o.locals&&(e.exports=o.locals)},940:function(e,t,n){(e.exports=n(97)(!1)).push([e.i,".token-notifier-container{font-family:Lato;font-weight:300}.token-notifier-container h3{color:#fecb2f;font-size:150%;font-weight:300}.token-notifier-container p,.token-notifier-container a{color:white}.token-notifier-container a{text-decoration:underline}\n",""])},941:function(e,t,n){var o=n(942);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(98)(o,a);o.locals&&(e.exports=o.locals)},942:function(e,t,n){(e.exports=n(97)(!1)).push([e.i,".out-of-tokens-modal .out-of-tokens-modal-command-container{margin-top:1em}.out-of-tokens-modal .out-of-tokens-modal-command-container .tokens-button{margin-top:0.5em;margin-right:1em}.out-of-tokens-modal em{font-weight:300}\n",""])},943:function(e,t,n){var o=n(944);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(98)(o,a);o.locals&&(e.exports=o.locals)},944:function(e,t,n){(e.exports=n(97)(!1)).push([e.i,".token-stack-info-modal{width:100%;font-family:Lato;line-height:normal}.token-stack-info-modal div{box-sizing:content-box}.token-stack-info-modal .token-stack-main-container{display:flex}.token-stack-info-modal .token-stack-info-container{display:flex;flex-direction:column;width:60%;color:#fecb2f}.token-stack-info-modal .token-stack-info-container .token-stack-info-row{display:flex;justify-content:center;align-items:center;padding:8px;height:30px;font-size:1.5em}.token-stack-info-modal .token-stack-info-container .token-stack-info-row .token-stack-info-row-token-container{display:flex;align-items:center;justify-content:center;text-align:center;width:50px}.token-stack-info-modal .token-stack-info-container .token-stack-info-row .token-stack-info-row-qualifier-label{width:calc(50% - 25px);text-align:right}.token-stack-info-modal .token-stack-info-container .token-stack-info-row .token-stack-info-row-token-count{width:calc(50% - 25px)}.token-stack-info-modal .token-stack-info-container .token-stack-info-row:last-child{border-top:1px solid}.token-stack-info-modal .token-stack-buttons-container{display:flex;width:40%;flex-direction:column;align-items:center}.token-stack-info-modal .token-stack-buttons-container .tokens-button{width:115px;display:block;margin:8px}.token-stack-info-modal svg{width:1.2em;height:1.2em}@media screen and (max-width: 550px){.token-stack-info-modal .token-stack-main-container{flex-direction:column}.token-stack-info-modal .token-stack-info-container,.token-stack-info-modal .token-stack-buttons-container{width:100%}}@media screen and (max-width: 400px){.token-stack-info-modal .token-stack-info-container .token-stack-info-row{font-size:1.3em}}\n",""])},945:function(e,t,n){var o=n(946);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(98)(o,a);o.locals&&(e.exports=o.locals)},946:function(e,t,n){(e.exports=n(97)(!1)).push([e.i,".token-ledger-modal{font-family:Lato;font-weight:300;box-sizing:unset;line-height:normal}.token-ledger-modal *{box-sizing:unset}@media screen and (max-width: 600px){.token-ledger-modal .tokens-button{padding:0.25em}}.token-ledger-modal .emphasized-tokens-button{margin-right:1em}.token-ledger-modal .total-balance-container{display:flex;align-items:center;float:right;font-size:120%}.token-ledger-modal .total-balance-container svg{width:20px;height:20px;margin:0 1.5em}.token-ledger-modal .total-balance-container .balance-label{font-weight:400}.token-ledger-modal .token-ledger-table-container{overflow-x:auto}.token-ledger-modal h3{font-family:Lato;font-weight:300}.token-ledger-modal table{font-weight:300;min-width:450px}.token-ledger-modal table th{font-weight:300;padding:1em 0.5em}.token-ledger-modal table td{padding:0.25em 0.5em}.token-ledger-modal table td:first-child,.token-ledger-modal table th:first-child{padding-left:0}.token-ledger-modal table td:last-child,.token-ledger-modal table th:last-child{padding-right:1.5em}.token-ledger-modal tfoot td:last-child{padding-right:1em}.token-ledger-modal thead,.token-ledger-modal tbody{font-size:80%}.token-ledger-modal thead tr th{border-top:1px solid black;border-bottom:1px solid black}.token-ledger-modal tfoot tr td{padding-top:0.5em;border-top:1px solid black}.token-ledger-modal tbody tr:first-child td{padding-top:1em}.token-ledger-modal tbody{display:block;max-height:50vh;overflow-y:scroll}.token-ledger-modal tbody td{vertical-align:top}.token-ledger-modal tbody td:nth-child(4){color:#ba4448}.token-ledger-modal thead,.token-ledger-modal tbody tr,.token-ledger-modal tfoot{display:table;width:100%;table-layout:fixed}.token-ledger-modal tbody tr:last-child td{padding-bottom:1em}.token-ledger-modal table th:nth-child(1),.token-ledger-modal table td:nth-child(1),.token-ledger-modal table th:nth-child(2),.token-ledger-modal table td:nth-child(2){text-align:left}.token-ledger-modal table th:nth-child(3),.token-ledger-modal table td:nth-child(3),.token-ledger-modal table th:nth-child(4),.token-ledger-modal table td:nth-child(4),.token-ledger-modal table th:nth-child(5),.token-ledger-modal table td:nth-child(5){text-align:right}.token-ledger-modal .free-flag{background-color:#5facbe;position:relative;padding-right:10px;padding-left:5px;color:white;position:relative;font-size:11px;bottom:unset;float:left;margin-top:2px}.token-ledger-modal .free-flag:after{content:'';width:0;height:0;border-style:solid;border-width:7px 7px 6px 0;border-color:transparent white transparent transparent;position:absolute;right:0;top:0}\n",""])},947:function(e,t,n){var o=n(948);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(98)(o,a);o.locals&&(e.exports=o.locals)},948:function(e,t,n){(e.exports=n(97)(!1)).push([e.i,".token-cashout-modal{font-family:Lato;font-weight:300}.token-cashout-modal svg{width:26px;height:26px;display:inline-block;margin:0 0.3em;vertical-align:sub}.token-cashout-modal h3{margin:0 0 0.5em 0;font-size:2em;font-weight:300;color:#fecb2f}.token-cashout-modal .cashout-subtitle{color:#fecb2f;font-size:1.2em}.token-cashout-modal .cashout-subtitle.big-cashout-subtitle{font-size:1.5em}.token-cashout-modal .cashout-subtitle.big-cashout-subtitle svg{margin-left:0;width:30px;height:30px}.token-cashout-modal .loading-results-container{min-height:unset}.token-cashout-modal .token-amount{margin-right:0.4em;font-weight:700}.token-cashout-modal .dollar-amount{margin-left:0.4em;font-weight:700;color:white}.token-cashout-modal .cashout-explanation{color:#fecb2f;margin:0 0 1em 0;font-size:1.2em}.token-cashout-modal .cashout-explanation-done{color:gray;font-style:italic;margin:0.5em 0}.token-cashout-modal .big-cashout-subtitle+.cashout-explanation{margin:1em 0}.token-cashout-modal .cashout-commands-container{display:flex;justify-content:space-between}.token-cashout-modal .error-container{font-size:100%;margin-bottom:1.25em;color:#b70b0b}.token-cashout-modal .error-container h3{color:inherit}.token-cashout-modal .error-container a,.token-cashout-modal .error-container a:visited{color:white}.token-cashout-modal .payment-info-container{color:white;font-weight:700}.token-cashout-modal li.payment-info-container{font-size:0.75em}\n",""])},949:function(e,t,n){var o=n(950);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(98)(o,a);o.locals&&(e.exports=o.locals)},950:function(e,t,n){(e.exports=n(97)(!1)).push([e.i,'.number-input-container{display:inline-flex;position:relative}.number-input-container input[type="number"]::-webkit-outer-spin-button,.number-input-container input[type="number"]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.number-input-container input[type="number"]{-moz-appearance:textfield}.number-input-container input[type="number"]{font-family:inherit;font-size:150%;padding-left:1em;text-indent:1em;min-width:110px;height:46px;background-color:#4d4d4d;color:inherit;border:1px solid transparent;outline:none;text-align:right;margin:0 2px 0 0;padding:0.2em;border-top-left-radius:0.3em;border-bottom-left-radius:0.3em;box-shadow:unset;box-sizing:border-box;display:inline-block;line-height:unset}.number-input-container input[type="number"]:focus{outline:none;background-color:#4d4d4d;border:1px solid transparent}.number-input-container input[type="number"].invalid{color:red;border:1px solid red}.number-input-container .arrow-container{padding:0.2em 0.6em;background-color:#4d4d4d;color:gray;height:22px;box-sizing:border-box;line-height:normal;cursor:pointer;user-select:none}.number-input-container .arrow-container i{vertical-align:top;user-select:none}.number-input-container .arrow-container.arrow-up-container{border-top-right-radius:0.3em;margin-bottom:2px}.number-input-container .arrow-container.arrow-down-container{border-bottom-right-radius:0.3em}.number-input-container .arrow-container:hover{background-color:#676767}.number-input-container .arrow-container:active{background-color:#5a5a5a}.number-input-container .icon-container{position:absolute;display:flex;font-size:150%;top:50%;left:0.5em;transform:translateY(-50%);user-select:none;color:inherit;transform:translate(-20%, -50%);color:inherit}.number-input-container .icon-container svg{width:25px;height:25px}\n',""])},951:function(e,t,n){var o=n(952);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(98)(o,a);o.locals&&(e.exports=o.locals)},952:function(e,t,n){(e.exports=n(97)(!1)).push([e.i,".token-purchaser-modal{font-family:Lato}.token-purchaser-modal .token-purchaser-title-label{display:inline-block;font-size:200%;font-weight:300;color:#fecb2f;margin-right:0.25em}.token-purchaser-modal .modal-content-container{overflow:unset !important}.token-purchaser-modal .token-purchaser-sub-title-label{display:inline-block;font-style:italic;font-size:80%;font-weight:300;color:gray}.token-purchaser-modal .token-purchaser-commands-label{font-size:200%;margin:0 0.5em;font-style:italic;color:gray}.token-purchaser-modal .emphasized-tokens-button{margin-left:2em;font-size:120%}.token-purchaser-modal .split-button-container{font-size:0.8em;margin-left:2em}.token-purchaser-modal .split-button-container .split-button-label,.token-purchaser-modal .split-button-container .split-button-arrow-container{padding:0.5em 1em;background-color:#fecb2f}.token-purchaser-modal .split-button-container .split-button-label:hover,.token-purchaser-modal .split-button-container .split-button-arrow-container:hover{background-color:#fed148}.token-purchaser-modal .split-button-container .split-button-label:active,.token-purchaser-modal .split-button-container .split-button-arrow-container:active{background-color:#fec516}.token-purchaser-modal .split-button-container ul{background-color:#fed862;font-size:inherit}.token-purchaser-modal .split-button-container ul li{font-size:inherit}.token-purchaser-modal .split-button-container ul li:hover{background-color:#fede7b}.token-purchaser-modal .split-button-container ul li:active{background-color:#fed148}.token-purchaser-modal .token-purchaser-commands-container{display:flex;align-items:center}@media screen and (max-width: 650px){.token-purchaser-modal .token-purchaser-commands-container{flex-direction:column}.token-purchaser-modal .token-purchaser-commands-container>*{margin:0.25em}.token-purchaser-modal .token-purchaser-commands-container>*:last-child{margin-top:1em}.token-purchaser-modal .token-purchaser-commands-container .emphasized-tokens-button,.token-purchaser-modal .token-purchaser-commands-container .split-button-container{margin-left:unset}}.token-purchaser-modal .token-number-input-container{color:#fecb2f}.token-purchaser-modal .token-dollar-input-container{color:white}.token-purchaser-modal .number-input-container input{width:110px;font-weight:900}.token-purchaser-modal .number-input-container .icon-container{font-weight:900}.token-purchaser-modal a{color:white}\n",""])},953:function(e,t,n){var o=n(954);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(98)(o,a);o.locals&&(e.exports=o.locals)},954:function(e,t,n){(e.exports=n(97)(!1)).push([e.i,"",""])},955:function(e,t,n){var o=n(956);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(98)(o,a);o.locals&&(e.exports=o.locals)},956:function(e,t,n){(e.exports=n(97)(!1)).push([e.i,".token-upsell-container{font-family:Lato;font-weight:300;margin:1em auto 0 auto !important}.token-upsell-container .modal-content-container{font-size:20px}.token-upsell-container svg{width:20px;height:20px;vertical-align:text-bottom}.token-upsell-container .upsell-logical-line-item{display:inline-block}.token-upsell-container p,.token-upsell-container a{color:white}.token-upsell-container a{text-decoration:underline}\n",""])}}]);
//# sourceMappingURL=vbook-ui~micropurchase~unlockManager~unlockModal.chunk.js.map?0bfd748f6f3721486169