(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{124:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n(28),r=n(134),i=function(){function e(e,t){this.queue=[],this.webUtils=new r.a(o.c.getConfig(e,t))}return e.prototype.storeUserAction=function(e){var t=this;this.queue.push(e),null==this.runningRequest?this.processQueueItem():this.runningRequest.then((function(){return t.processQueueItem()})).catch((function(){return t.processQueueItem()}))},e.prototype.processQueueItem=function(){var e=this.queue.pop();e&&this.sendUserAction(e)},e.prototype.sendUserAction=function(e){var t=this;return this.runningRequest=new Promise((function(n,o){t.webUtils.ajax(t.webUtils.getAbsoluteBackendUrl("analytics/logUserAction"),(function(){t.runningRequest=null,n()}),(function(e){t.runningRequest=null,o(e)}),e.toJson())}))},e}()},126:function(e,t,n){"use strict";var o,r=n(28);!function(e){e[e.ReadingOwnedBook=0]="ReadingOwnedBook",e[e.ReadingFreePreview=1]="ReadingFreePreview",e[e.ReadingOpenChapter=2]="ReadingOpenChapter",e[e.ExerciseSolved=3]="ExerciseSolved",e[e.SearchMade=4]="SearchMade",e[e.SearchResultOpened=5]="SearchResultOpened",e[e.ThreadCreated=6]="ThreadCreated",e[e.CommentCreated=7]="CommentCreated",e[e.UpvoteGiven=8]="UpvoteGiven",e[e.ShareableLinkCreated=9]="ShareableLinkCreated",e[e.CrossReferenceTermOpened=10]="CrossReferenceTermOpened",e[e.CrossReferenceRelatedTermFollowed=11]="CrossReferenceRelatedTermFollowed",e[e.WishlistItemAdded=12]="WishlistItemAdded",e[e.NoteCreated=13]="NoteCreated",e[e.BookmarkCreated=14]="BookmarkCreated",e[e.HighlightCreated=15]="HighlightCreated",e[e.DashboardLinkOpened=16]="DashboardLinkOpened",e[e.ProductTocLinkOpened=17]="ProductTocLinkOpened",e[e.ProductLookInsideLinkOpened=18]="ProductLookInsideLinkOpened",e[e.ShoppingCartLinkOpened=19]="ShoppingCartLinkOpened",e[e.FreeEbookCheckout=20]="FreeEbookCheckout",e[e.DownloadEbookFromDashboard=21]="DownloadEbookFromDashboard",e[e.RegisterPbook=22]="RegisterPbook"}(o||(o={}));var i=function(){function e(e,t,n,o,r,i,c){this.type=e,this.dateCreated=t,this.originApp=n,this.productId=o,this.additionalData=r,this.isInPromotedProduct=i,this.shouldBeSentToBackend=c}return e.createReadingOwnedAction=function(t,n,r,i){return new e(o.ReadingOwnedBook,new Date,t,n,i+"s",r,!1)},e.createReadingFreePreviewAction=function(t,n,r,i){return new e(o.ReadingFreePreview,new Date,t,n,i+"s",r,!1)},e.createReadingOpenChapterAction=function(t,n,r,i){return new e(o.ReadingOpenChapter,new Date,t,n,i+"s",r,!1)},e.createExerciseSolvedAction=function(t,n,r,i){return new e(o.ExerciseSolved,new Date,t,n,i,r,!0)},e.createSearchMadeAction=function(t,n,r,i){return new e(o.SearchMade,new Date,t,n,i,r,!1)},e.createSearchResultOpenedAction=function(t,n,r,i,c){return new e(o.SearchResultOpened,new Date,t,n,i+"-"+c,r,!0)},e.createThreadCreatedAction=function(t,n,r,i){return new e(o.ThreadCreated,new Date,t,n,""+i,r,!1)},e.createCommentCreatedAction=function(t,n,r,i){return new e(o.CommentCreated,new Date,t,n,""+i,r,!1)},e.createUpvoteGivenAction=function(t,n,r,i){return new e(o.UpvoteGiven,new Date,t,n,""+i,r,!1)},e.createShareableLinkCreatedAction=function(t,n,r,i){return new e(o.UpvoteGiven,new Date,t,n,i,r,!1)},e.createCrossReferenceTermOpenedAction=function(t,n,r,i){return new e(o.CrossReferenceTermOpened,new Date,t,n,i,r,!0)},e.createCrossReferenceRelatedTermFollowedAction=function(t,n,r,i){return new e(o.CrossReferenceRelatedTermFollowed,new Date,t,n,i,r,!0)},e.createWishlistItemAddedAction=function(t,n,r){return new e(o.WishlistItemAdded,new Date,t,n,"",r,!1)},e.createNoteCreatedAction=function(t,n,r){return new e(o.NoteCreated,new Date,t,n,"",r,!1)},e.createBookmarkCreatedAction=function(t,n,r){return new e(o.BookmarkCreated,new Date,t,n,"",r,!1)},e.createHighlightCreatedAction=function(t,n,r){return new e(o.HighlightCreated,new Date,t,n,"",r,!1)},e.createDashboardLinkOpenedAction=function(t,n,r){return new e(o.DashboardLinkOpened,new Date,t,n,"",r,!1)},e.createProductTocLinkOpenedAction=function(t,n,r){return new e(o.ProductTocLinkOpened,new Date,t,n,"",r,!1)},e.createProductLookInsideLinkOpenedAction=function(t,n,r){return new e(o.ProductLookInsideLinkOpened,new Date,t,n,"",r,!1)},e.createShoppingCartLinkOpenedAction=function(t,n,r){return new e(o.ShoppingCartLinkOpened,new Date,t,n,"",r,!1)},e.createFreeEbookCheckoutAction=function(t,n,r){return new e(o.FreeEbookCheckout,new Date,t,n,"",r,!1)},e.createDownloadEbookFromDashboardAction=function(t,n,r){return new e(o.DownloadEbookFromDashboard,new Date,t,n,"",r,!1)},e.createRegisterPbookAction=function(t,n,r){return new e(o.RegisterPbook,new Date,t,n,"",r,!1)},e.prototype.getKey=function(){return o[this.type]},e.prototype.toJson=function(){return{type:o[this.type],dateCreated:this.dateCreated.toISOString(),originApp:r.b[this.originApp],productId:this.productId,additionalData:this.additionalData,isInPromotedProduct:this.isInPromotedProduct}},e}(),c=new(function(){function e(){}return e.prototype.getItem=function(e){try{return localStorage.getItem(e)}catch(t){return console.error("Error getting item from local storage",e),""}},e.prototype.setItem=function(e,t){try{return localStorage.setItem(e,t)}catch(t){return console.error("Error setting item to local storage",e),""}},e.prototype.remove=function(e){try{localStorage.removeItem(e)}catch(e){console.error("Error removing item from localstorage")}},e}()),a=n(127),s=new(function(){function e(){this.allProductsPromotedDays=["2019-12-02","2019-12-09","2019-12-16","2019-12-23","2019-12-24","2019-12-25","2019-12-30","2019-12-31","2020-01-01"],this.dailyPromotedProducts={"2019-12-01":[1121],"2019-12-02":[],"2019-12-03":[864],"2019-12-04":[1157],"2019-12-05":[683],"2019-12-06":[844],"2019-12-07":[869],"2019-12-08":[879],"2019-12-09":[],"2019-12-10":[712],"2019-12-11":[817],"2019-12-12":[1085],"2019-12-13":[997],"2019-12-14":[1079],"2019-12-15":[1114],"2019-12-16":[],"2019-12-17":[1190],"2019-12-18":[568],"2019-12-19":[1137],"2019-12-20":[1048],"2019-12-21":[1251],"2019-12-22":[1100],"2019-12-23":[],"2019-12-24":[],"2019-12-25":[],"2019-12-26":[1094],"2019-12-27":[919],"2019-12-28":[996],"2019-12-29":[786],"2019-12-30":[],"2019-12-31":[]}}return e.prototype.isPromotedProductToday=function(e){if(!e||e<=0)return!1;var t=this.getDateKey();return!!this.allProductsPromotedDays[t]||!!this.dailyPromotedProducts[t]&&this.dailyPromotedProducts[t].indexOf(e)>=0},e.prototype.getDateKey=function(){try{return new Intl.DateTimeFormat("sv-SE",{timeZone:"Europe/London",year:"numeric",month:"numeric",day:"numeric"}).format(new Date)}catch(e){return(new Date).format("YYYY-MM-dd")}},e}());n.d(t,"a",(function(){return u}));var u=new(function(){function e(){this.hasBeenInitialized=!1,this.currentNumberOfPoints=0}return e.prototype.setNumberOfPoints=function(e){this.currentNumberOfPoints=e},e.prototype.initialize=function(e,t,n,o){this.sourceApp=e,this.userActionTrackerProvider=t,this.isLoggedIn=o,n&&(this.currentNumberOfPoints=n),this.hasBeenInitialized||(window.$?(this.initializeEvents(),this.hasBeenInitialized=!0):console.error("UserActionTracking needs JQuery. Please include it in the source app"))},e.prototype.processAction=function(e){if(e&&(e.shouldBeSentToBackend&&this.userActionTrackerProvider&&this.userActionTrackerProvider.storeUserAction(e),this.isLoggedIn)){e.isInPromotedProduct||(e.isInPromotedProduct=s.isPromotedProductToday(e.productId));var t=this.getUserActionPointsStateObject(),n=e.getKey();t.dailyAchievementPoints[n]||(t.dailyAchievementPoints[n]={});var o=a.a.formatDate(new Date);for(var r in t.dailyAchievementPoints[n])r!=o&&delete t.dailyAchievementPoints[n][r];t.dailyAchievementPoints[n][o]||(t.dailyAchievementPoints[n][o]=0),e.isInPromotedProduct?t.dailyAchievementPoints[n][o]+=2:t.dailyAchievementPoints[n][o]++,(t.dailyAchievementPoints[n][o]<=5||e.isInPromotedProduct&&t.dailyAchievementPoints[n][o]<=10)&&(this.currentNumberOfPoints++,$(document).trigger("achievementPointsChange",this.currentNumberOfPoints)),this.storeUserActionPointsStateObject(t)}},e.prototype.resetAchievements=function(){this.storeUserActionPointsStateObject(this.getEmptyAchievementStateObject())},e.prototype.initializeEvents=function(){var e=this;$(document).on("user-action-reading-owned-book",(function(t,n,o,r){e.processAction(i.createReadingOwnedAction(e.sourceApp,n,r,o))})).on("user-action-reading-free-preview",(function(t,n,o,r){e.processAction(i.createReadingFreePreviewAction(e.sourceApp,n,r,o))})).on("user-action-reading-open-chapter",(function(t,n,o,r){e.processAction(i.createReadingOpenChapterAction(e.sourceApp,n,r,o))})).on("user-action-exercise-solved",(function(t,n,o,r){e.processAction(i.createExerciseSolvedAction(e.sourceApp,n,r,o))})).on("user-action-search-made",(function(t,n,o,r){e.processAction(i.createSearchMadeAction(e.sourceApp,n,r,o))})).on("user-action-search-result-opened",(function(t,n,o,r,c){e.processAction(i.createSearchResultOpenedAction(e.sourceApp,n,c,o,r))})).on("user-action-thread-created",(function(t,n,o,r){e.processAction(i.createThreadCreatedAction(e.sourceApp,n,r,o))})).on("user-action-comment-created",(function(t,n,o,r){e.processAction(i.createCommentCreatedAction(e.sourceApp,n,r,o))})).on("user-action-upvote-given",(function(t,n,o,r){e.processAction(i.createUpvoteGivenAction(e.sourceApp,n,r,o))})).on("user-action-shareable-link-created",(function(t,n,o,r){e.processAction(i.createShareableLinkCreatedAction(e.sourceApp,n,r,o))})).on("user-action-cross-reference-term-opened",(function(t,n,o,r){e.processAction(i.createCrossReferenceTermOpenedAction(e.sourceApp,n,r,o))})).on("user-action-cross-reference-related-term-followed",(function(t,n,o,r){e.processAction(i.createCrossReferenceRelatedTermFollowedAction(e.sourceApp,n,r,o))})).on("user-action-wishlist-item-added",(function(t,n,o){e.processAction(i.createWishlistItemAddedAction(e.sourceApp,n,o))})).on("user-action-note-created",(function(t,n,o){e.processAction(i.createNoteCreatedAction(e.sourceApp,n,o))})).on("user-action-bookmark-created",(function(t,n,o){e.processAction(i.createBookmarkCreatedAction(e.sourceApp,n,o))})).on("user-action-highlight-created",(function(t,n,o){e.processAction(i.createHighlightCreatedAction(e.sourceApp,n,o))})).on("user-action-dashboard-link-opened",(function(t,n,o){e.processAction(i.createDashboardLinkOpenedAction(e.sourceApp,n,o))})).on("user-action-product-toc-link-opened",(function(t,n,o){e.processAction(i.createProductTocLinkOpenedAction(e.sourceApp,n,o))})).on("user-action-product-look-inside-link-opened",(function(t,n,o){e.processAction(i.createProductLookInsideLinkOpenedAction(e.sourceApp,n,o))})).on("user-action-free-ebook-checkout",(function(t,n,o){e.processAction(i.createFreeEbookCheckoutAction(e.sourceApp,n,o))})).on("user-action-download-ebook-from-dashboard",(function(t,n,o){e.processAction(i.createDownloadEbookFromDashboardAction(e.sourceApp,n,o))})).on("user-action-register-pbook",(function(t,n,o){e.processAction(i.createRegisterPbookAction(e.sourceApp,n,o))}))},e.prototype.getUserActionPointsStateObject=function(){var e=c.getItem("UserActionsState");if(!e)return this.getEmptyAchievementStateObject();try{return JSON.parse(e)}catch(e){return this.getEmptyAchievementStateObject()}},e.prototype.storeUserActionPointsStateObject=function(e){if(e)try{c.setItem("UserActionsState",JSON.stringify(e))}catch(e){console.error("Error storing user actions state")}},e.prototype.getEmptyAchievementStateObject=function(){return{dailyAchievementPoints:{}}},e}())},127:function(e,t,n){"use strict";var o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=function(){function e(){}return e.prototype.formatDate=function(e){var t=""+(e.getMonth()+1),n=""+e.getDate(),o=e.getFullYear();return t.length<2&&(t="0"+t),n.length<2&&(n="0"+n),[o,t,n].join("-")},e.prototype.getWords=function(e){return(e||"").split(/\s+/g)},e.prototype.getMapFromArray=function(e){var t={};if(!e)return t;for(var n=0,o=e;n<o.length;n++){t[o[n]]=!0}return t},e.prototype.combineInNew=function(e,t){return Object.assign({},e,t)},e.prototype.extend=function(e,t){return Object.assign(e,t)},e.prototype.trimEnd=function(e,t){if(void 0===t&&(t=" "),!e)return e;for(var n=e.length-1;n>=0&&e.charAt(n)==t;)n--;return e.substring(0,n+1)},e.prototype.getArrayFromMap=function(e){var t=[];for(var n in e)t.push(e[n]);return t},e.prototype.getArrayFromMapKeys=function(e){var t=[];for(var n in e)t.push(n);return t},e.prototype.areDeepEqual=function(e,t){var n,o=Object.keys(e).sort(),r=Object.keys(t).sort();if(o.length!==r.length)return!1;if(o.join("")!==r.join(""))return!1;for(n=0;n<o.length;++n){if(e[o[n]]instanceof Array){if(!(t[o[n]]instanceof Array))return!1;if(t[o[n]].sort().join("")!==e[o[n]].sort().join(""))return!1}else if(e[o[n]]instanceof Date){if(!(t[o[n]]instanceof Date))return!1;if(""+e[o[n]]!=""+t[o[n]])return!1}else if(e[o[n]]instanceof Function){if(!(t[o[n]]instanceof Function))return!1}else if(e[o[n]]instanceof Object){if(!(t[o[n]]instanceof Object))return!1;if(e[o[n]]===e){if(t[o[n]]!==t)return!1}else if(!1===this.areDeepEqual(e[o[n]],t[o[n]]))return!1}if(e[o[n]]!==t[o[n]])return!1}return!0},e.prototype.shuffleArray=function(e){for(var t,n,o=e.length;0!==o;)n=Math.floor(Math.random()*o),t=e[o-=1],e[o]=e[n],e[n]=t;return e},e.prototype.removeItemFromArray=function(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)},e.prototype.roundToTwoDecimalPlaces=function(e){return Math.round(100*e)/100},e.prototype.getDateAsString=function(e,t){if(void 0===t&&(t=!1),!e)return"";var n=e.getMonth(),r=e.getFullYear();return Number.isNaN(n)||Number.isNaN(r)?"":t?o[n]+" "+e.getDate()+", "+r+" at "+this.formatToDoubleDigits(e.getHours())+":"+this.formatToDoubleDigits(e.getMinutes()):o[n]+" "+r},e.prototype.formatToDoubleDigits=function(e){return e>=10?e:"0"+e},e.prototype.monthDiff=function(e,t){var n;return n=12*(t.getFullYear()-e.getFullYear()),n-=e.getMonth()+1,(n+=t.getMonth())<=0?0:n},e.prototype.getOrdinalExtension=function(e){return e<0?"":1==e?"st":2==e?"nd":3==e?"rd":e>=4?"th":void 0},e.prototype.formatMoney=function(e){return(e||0).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")},e.prototype.numberWithCommas=function(e){try{return(e||0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}catch(t){return e}},e}();t.a=new r},134:function(e,t,n){"use strict";var o=function(){function e(e){this.configuration=e}return e.prototype.isOnline=function(){return navigator.onLine},e.prototype.ajax=function(e,t,n,o,r,i){void 0===r&&(r=!1),void 0===i&&(i=!1),this.getJSON(e,(function(e){return t(e)}),(function(e){return n(e)}),o,r,i)},e.prototype.getJSON=function(e,t,n,o,r,i){void 0===r&&(r=!1),void 0===i&&(i=!1);var c=new XMLHttpRequest;o&&o instanceof Object&&!r&&(e+="?"+this.serializeObject(o)),r?c.open("post",e,!0):c.open("get",e,!0),r?c.setRequestHeader("Content-Type","application/json;charset=UTF-8"):c.setRequestHeader("Content-Type","application/text;charset=UTF-8"),i&&(c.withCredentials=!0),c.onreadystatechange=function(){var e,o;if(4==c.readyState)if(200==(e=c.status)){try{o=JSON.parse(c.responseText)}catch(e){return void(n&&n(e))}t&&t(o)}else n&&n(e)},r?c.send(JSON.stringify(o)):c.send()},e.prototype.configure=function(e){this.configuration=e},e.prototype.getAbsoluteLivebookAwsUrl=function(e){return this.getAbsoluteUrl(this.configuration.aws.livebook,e)},e.prototype.getAbsoluteBackendUrl=function(e){return this.getAbsoluteUrl(this.configuration.backend.base,e)},e.prototype.getAbsoluteBackendLivebookUrl=function(e){return this.getAbsoluteUrl(this.configuration.backend.livebook,e)},e.prototype.getAbsoluteBackendLivevideoUrl=function(e){return this.getAbsoluteUrl(this.configuration.backend.livevideo,e)},e.prototype.getAbsoluteUrl=function(e,t){var n=e;return n.endsWith("/")||t.startsWith("/")||(n+="/"),n+t},e.getAbsoluteLink=function(e,t){if(!e)return t;if(!t)return e;var n=e;return e.endsWith("/")||t.startsWith("/")?e.endsWith("&")&&t.startsWith("/")&&(n=n.substr(0,n.length-1)):n+="/",n+t},e.isLivebookLink=function(e){return!!e&&-1!=e.indexOf("/book/")},e.isLivevideoLink=function(e){return!!e&&-1!=e.indexOf("module/")},e.prototype.getAwsPublic=function(e){return void 0===e&&(e=""),this.configuration.aws.livebook+(e||"")},e.prototype.serializeObject=function(e){if(!e)return"";var t=[];for(var n in e)e.hasOwnProperty(n)&&void 0!==e[n]&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},e}();t.a=o},28:function(e,t,n){"use strict";var o,r;n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),function(e){e[e.dev=0]="dev",e[e.qa=1]="qa",e[e.prod=2]="prod",e[e.docker=3]="docker"}(o||(o={})),function(e){e[e.demo=0]="demo",e[e.marketplace=1]="marketplace",e[e.livebook=2]="livebook",e[e.livevideo=3]="livevideo"}(r||(r={}));var i={backend:{demo:"http://localhost:3001",marketplace:"http://localhost:8080/Marketplace",livebook:"http://localhost:8080",livevideo:"https://livevideo-be-dev.manning.com",base:""},client:{demo:"http://localhost:8080",marketplace:"http://localhost:8080/Marketplace",livebook:"http://localhost:3000",livevideo:"https://livevideo-qa.manning.com",base:""},aws:{livebook:"https://dhjb9cmbg5852.cloudfront.net"},images:{livebook:"https://dhjb9cmbg5852.cloudfront.net",marketplace:"https://images-qa.manning.com"}},c={backend:{demo:"http://localhost:3001",marketplace:"https://www-qa.manning.com",livebook:"https://livebook-qa.manning.com",livevideo:"https://livevideo-be-dev.manning.com",base:""},client:{demo:"http://localhost:8080",marketplace:"https://www-qa.manning.com",livebook:"https://livebook-qa.manning.com",livevideo:"https://livevideo-qa.manning.com",base:""},aws:{livebook:"https://dhjb9cmbg5852.cloudfront.net"},images:{livebook:"https://dhjb9cmbg5852.cloudfront.net",marketplace:"https://images-qa.manning.com"}},a={backend:{demo:"http://localhost:3001",marketplace:"https://www.manning.com",livebook:"https://livebook.manning.com",livevideo:"https://livevideo-be.manning.com",base:""},client:{demo:"http://localhost:8080",marketplace:"https://www.manning.com",livebook:"https://livebook.manning.com",livevideo:"https://livevideo.manning.com",base:""},aws:{livebook:"https://dpzbhybb2pdcj.cloudfront.net"},images:{livebook:"https://dpzbhybb2pdcj.cloudfront.net",marketplace:"https://images.manning.com"}},s={backend:{demo:"http://localhost:3001",marketplace:"http://search-test.manning.com",livebook:"https://livebook-qa.manning.com",livevideo:"https://livevideo-be-dev.manning.com",base:""},client:{demo:"http://localhost:8080",marketplace:"http://search-test.manning.com",livebook:"https://livebook.manning.com",livevideo:"https://livevideo.manning.com",base:""},aws:{livebook:"https://dpzbhybb2pdcj.cloudfront.net"},images:{livebook:"https://dpzbhybb2pdcj.cloudfront.net",marketplace:"https://images-qa.manning.com"}},u=function(){function e(){}return e.prototype.getConfig=function(e,t){var n=this.getConfigByDeploymentType(t);switch(e){case r.livebook:n.backend.base=n.backend.livebook,n.client.base=n.client.livebook;break;case r.livevideo:n.backend.base=n.backend.livevideo,n.client.base=n.client.livevideo;break;case r.marketplace:n.backend.base=n.backend.marketplace,n.client.base=n.client.marketplace;break;case r.demo:default:n.backend.base=n.backend.demo,n.client.base=n.client.demo}return n},e.prototype.getConfigByDeploymentType=function(e){switch(e){case o.qa:return c;case o.prod:return a;case o.docker:return s;case o.dev:default:return i}},e}();t.c=new u}}]);
//# sourceMappingURL=vbook-ui~app.chunk.js.map?f789bf4efeb2c8ff69c1